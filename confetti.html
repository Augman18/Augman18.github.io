<html>
<head>
	<style type="text/css">
		.confetti{
			width: 10px;
			height: 22px;
			position: absolute;
			transition: .5s;
			animation-name: swing;
			animation-name: swing3d;
			animation-duration: .5s;
			animation-iteration-count: infinite;
			animation-direction: alternate;
			animation-timing-function: ease-in-out;
		}

	@keyframes swing {
		from{
			transform: rotate(var(--startRot));
		}

		to{
			transform: rotate(var(--endRot));
		}
	}	

	@keyframes swing3d {
		from{
			transform: rotateZ(-25deg) rotateY(-180deg);
		}

		to{
			transform: rotateZ(25deg) rotateY(180deg);
		}
	}	

	#btn{
		top: 50%;
		width: 70px;
		height: 70px;
	}


	</style>
	
</head>
<body>

	<center><button id="btn">Drop Confetti</button></center>

<script type="text/javascript">
	
	let falling =0
	let dropconfettiBtn = document.getElementById("btn")
	function makeConfetti(){
	let square= document.createElement(
		"div")
	square.classList.add("confetti")
	document.body.appendChild(square)
	
	let r=Math.round(Math.random()*255)
	let g=Math.round(Math.random()*255)
	let b=Math.round(Math.random()*255)
	let rotation = Math.random() * 360
	let startRot = Math.random() * -45 + "deg"
	let endRot = Math.random() * 45 + "deg"
	
	square.style.backgroundColor="rgb("+r+","+g+","+b+")"

	square.style.left=Math.random()*2000+"px"
	square.style.top=Math.random()*100+"px"
	square.style.transform = "rotate("+rotation+ "deg)"
	square.style.setProperty("--startRot", startRot)
	square.style.setProperty("--endRot", endRot)
	
	function fall(){
		falling=falling+20
		square.style.top=parseInt(square.style.top)+falling+"px"
		if (falling >= 100){
			falling = 0
		}
	}
	setInterval(fall, 75)
}

dropconfettiBtn.addEventListener("click", function(){
	// for(let i = 0; i < 10; i++){
		
	// }
setInterval(makeConfetti, 20)
})


</script>

</body>
</html>